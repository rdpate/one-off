#!/bin/sh -ue
# display a calender, sleep until tomorrow, and start again
[ $# = 0 ] && set -- -3
trapped=
trap trapped=x INT
while [ -z "$trapped" ]; do
    clear
    cal "$@"
    sleep $(($(date -d'tomorrow 00:00' +%s) - $(date +%s))) || {
        rc=$?
        case $rc in
            130) printf \\r; exit ;;
            *) exit $rc ;;
        esac
    }
    sleep 1
done
